# ProjectChimera Context

## プロジェクト概要
- **プロジェクト名**: ProjectChimera 
- **種類**: プロフェッショナル高頻度取引システム
- **技術スタック**: Python 3.9+, asyncio, PostgreSQL + TimescaleDB, Redis, Docker
- **目標**: 機関投資家レベルの高性能取引プラットフォームの構築

## アーキテクチャ原則
- **クリーンアーキテクチャ**: 依存性注入とレイヤー分離を徹底
- **非同期処理**: 全てのI/O操作をasyncio基盤で統一
- **マイクロサービス指向**: Dockerコンテナによる疎結合設計
- **プロダクション品質**: 99.9%稼働率を目指したエラーハンドリング

## 制約条件
### 技術的制約
- **レイテンシー要件**: API応答時間 < 50ms、注文執行 < 10ms
- **可用性**: 24/7運用、システム停止許容時間 < 1分/月
- **データ整合性**: 金融データの完全性保証、ACID準拠
- **スケーラビリティ**: 同時1000取引対応、秒間10K API requests

### ビジネス制約
- **規制準拠**: 金融庁準拠、API rate limiting厳守
- **リスク管理**: 1日最大損失5%、ポジション集中度制限
- **監査要件**: 全取引ログ保持、不正検知システム
- **コスト効率**: インフラ費用 < 月間利益の10%

## 技術選定理由

### Python + asyncio
- **選定理由**: 金融計算ライブラリの豊富さ、非同期I/Oの成熟度
- **学習**: 初期はsyncライブラリで問題、async移行で10倍のスループット改善

### PostgreSQL + TimescaleDB  
- **選定理由**: 時系列データ最適化、ACID保証、JSON対応
- **学習**: SQLiteから移行、価格データ圧縮率90%改善

### Docker + Redis
- **選定理由**: マイクロサービス化、リアルタイムストリーミング
- **学習**: 単体デプロイから移行、障害復旧時間1/10短縮

### pydantic + dependency-injector
- **選定理由**: 型安全性とテスト可能性、設定外部化
- **学習**: 手動DIから移行、バグ発見率が3倍向上

## 外部依存サービス
### Bitget API
- **役割**: 取引実行、市場データ取得
- **制約**: Rate limit 600req/min、WebSocket同時接続5
- **障害対応**: 3秒無応答でサーキットブレーカー発動

### OpenAI API (o3)
- **役割**: 市場分析、ニュース解析
- **制約**: コスト管理、API timeout 30秒
- **フォールバック**: ルールベース判定に自動切替

### NewsAPI
- **役割**: リアルタイムニュース収集
- **制約**: 1000req/day limit
- **データ**: 外国為替関連キーワードフィルタリング

## 現在の開発フェーズ
**Phase 5完了**: プロダクション基盤整備完了
- ✅ 完全なPythonパッケージ化
- ✅ CI/CD pipeline (GitHub Actions)
- ✅ 非同期API client + WebSocket streaming  
- ✅ pydantic設定外部化
- ✅ 依存性注入コンテナ
- ✅ サーキットブレーカー + retry logic
- ✅ 構造化JSONログ
- ✅ VaR/Kelly基準リスク管理
- ✅ バックテストCLIツール

**次期フェーズ予定**: 
- AI部門システムの本格運用開始
- マルチ通貨ペア対応拡張
- 高頻度取引アルゴリズム最適化