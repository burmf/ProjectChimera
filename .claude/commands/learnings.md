# 知見更新コマンド

新たな技術的発見、設計判断、問題解決があった際は、以下のファイルを適切に更新してください：

## 更新対象ファイル

### `.claude/context.md` - プロジェクトコンテキスト
以下の場合に更新：
- 技術スタック変更（新しいライブラリ導入等）
- 制約条件の変更（パフォーマンス要件等）
- 外部依存サービスの追加・変更
- プロジェクトフェーズの進行

**更新例**:
```markdown
## 技術選定理由
### 新ライブラリ名
- **選定理由**: 具体的な理由
- **学習**: 既存技術からの移行での発見
```

### `.claude/project-knowledge.md` - 技術知見
以下の場合に更新：
- 新しい実装パターンの確立
- アーキテクチャ決定記録 (ADR)
- 避けるべきアンチパターンの発見
- パフォーマンス最適化の知見

**更新例**:
```markdown
### ADR-XXX: 新しい技術決定
**決定**: 何を決定したか
**理由**: なぜその決定をしたか
**実装パターン**: 具体的なコード例
**学習**: 実装から得られた知見
```

### `.claude/project-improvements.md` - 改善履歴
以下の場合に更新：
- 重要な問題の解決
- パフォーマンス改善の実施
- 障害対応と根本原因分析
- 試行錯誤のプロセスと結果

**更新例**:
```markdown
## [YYYY-MM-DD]: 改善内容の概要
**問題**: 発生していた問題
**試行錯誤**: 
- ❌ 試した方法 → 結果・問題
- ✅ 最終解決策 → 効果

**定量的効果**: 具体的な改善数値
**教訓**: 今後に活かすべき学習
```

### `.claude/common-patterns.md` - 定型パターン
以下の場合に更新：
- 新しい開発コマンドの確立
- 定型的な実装テンプレートの作成
- トラブルシューティング手順の確立
- よく使用するコードパターンの発見

**更新例**:
```markdown
### 新しいパターン名
\```bash
# コマンド例
command --option value
\```

**用途**: どのような場面で使用するか
**学習**: パターン確立の経緯
```

### `.claude/debug-log.md` - デバッグ記録
以下の場合に更新：
- 解決に30分以上要した問題
- 再発の可能性が高い問題  
- チーム全体で共有すべき知見
- 緊急対応が必要だった障害

**更新例**:
```markdown
## [YYYY-MM-DD] 問題の概要
**症状**: 具体的な症状・エラー
**環境**: OS, バージョン情報
**再現手順**: 段階的な手順
**試行錯誤**: 試した方法と結果
**最終解決方法**: 確実な解決手順
**根本原因**: 問題の本質的な原因
**予防策**: 再発防止策
```

## 更新タイミング

### 即座に更新すべき場面
- 本番障害の解決後
- 重要なアーキテクチャ決定後
- 新機能の実装完了後
- セキュリティ問題の対応後

### 定期的に更新すべき場面  
- 週次： 小さな改善や知見の蓄積
- 月次： 大きな方針変更や技術選定
- 四半期： プロジェクト全体の振り返り

### 更新時の注意点
1. **具体性**: 抽象的でなく具体的な内容を記載
2. **再現性**: 他の人が理解・実行できる内容
3. **定量化**: 可能な限り数値で効果を示す
4. **時系列**: 変更の経緯と理由を明確に

## 知見の活用方法

### 新メンバー向け
- context.md でプロジェクト全体を理解
- project-knowledge.md で技術パターンを学習
- debug-log.md で過去の問題事例を把握

### 機能開発時
- common-patterns.md で定型作業を効率化
- project-knowledge.md で実装方針を決定
- project-improvements.md で過去の失敗を回避

### 問題対応時  
- debug-log.md で類似問題の解決策を参照
- project-improvements.md で過去の対応パターンを確認

## 継続的改善

この知見管理システム自体も継続的に改善していきます：

- 記録フォーマットの最適化
- 検索・参照の効率化
- チーム間での知見共有方法の改善
- ツールによる自動化の推進

定期的にこのシステムの効果を測定し、より良い知見管理を目指します。